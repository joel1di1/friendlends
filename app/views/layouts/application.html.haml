!!!
%html
  %head
    %meta{:content => "text/html;charset=UTF-8", "http-equiv" => "content-type"}/
    %title 
      = t :title
    = stylesheet_link_tag :all
    = javascript_include_tag :defaults
    = yield(:head)
  %body
    %center
      #container
        .user_nav
          - if user_signed_in?
            = t :sign_in_as
            %b #{current_user.email}
            = link_to t(:sign_out), destroy_user_session_path
          - else
            = link_to t(:sign_up), new_user_registration_path
            = t :or
            = link_to t(:sign_in), new_user_session_path
            = t :or
        .change_locale 
          = link_to t(:change_locale), I18n.locale == :en ? '/?locale=fr' : '/?locale=en'
        %p.notice= notice
        %p.alert= alert
        = yield

  #fb-root

  %script{:src=>"http://connect.facebook.net/en_US/all.js"} 

  %script
    FB.init({appId: '114011555315114', status: true, cookie: true, xfbml: true});
    FB.Event.subscribe('auth.sessionChange', function(response) {
    if (response.session) {
    // A user has logged in, and a new cookie has been saved
    alert("Joe : facebook connected !")
    } else {
    // The user has logged out, and the cookie has been cleared
    alert("Joe : facebook deconnected !")
    }
    });
